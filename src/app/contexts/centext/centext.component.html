<app-header></app-header>

<div class="container-fluid h-100">
  <app-sidebar></app-sidebar>
    <main class="col-md-12 ms-sm-auto col-lg-11 px-md-4 h-100"> 


      <div class="row row-cols-1 row-cols-md-4 g-4 mb-5 pt-5 pb-2 mb-3">
        <div class="col"  >
            <div class="card  shadow h-100"  >
                <div class="card-body">
                    <h5>Total Context</h5>
                    <h5 class="text-danger">{{countcontext}}</h5>
            </div>
                <p></p>
            </div>
        </div>
        <div class="col"  >
            <div class="card  shadow h-100"  >
                <div class="card-body">
                    <h5>Total Question/RÃ©ponses</h5>
                    <h5 class="text-danger">{{countcontextconvertation}}</h5>
            </div>
                <p></p>
            </div>
        </div>
        <div class="col"  >
            <div class="card  shadow h-100"  >
                <div class="card-body">
                    <h5>Total User</h5>
                    <h5 class="text-danger">{{countclient}}</h5>
            </div>
                <p></p>
            </div>
        </div>
        <div class="col"  >
            <div class="card  shadow h-100"  >
                <div class="card-body">
                    <h5>Total Confirmed</h5>
                    <h5 class="text-danger">9552778</h5>
                </div>
                <p></p>
            </div>
        </div>
    </div>


     <div class="row row-cols-1 row-cols-md-2 g-4 mb-5 pt-5 pb-2 mb-3">
       <div class="col"  >





         <div class="card  shadow h-100"  >
             <div class="card-header">
                 Context
             </div>
            <div class="card-body">



              <div class="container-fluid h-50">
                <div class="row justify-content-center h-100">
                  <div class=" chat">
                    <!-- <div class="card"> -->
                      <div class="card-header msg_head">
                        <div class="d-flex bd-highlight">
                          <div class="img_cont">
                            <img src="https://therichpost.com/wp-content/uploads/2020/06/avatar2.png" class="rounded-circle user_img">
                            <span class="online_icon"></span>
                          </div>
                          <div class="user_info">
                            <span>Chat with jassa</span>
                            <p>1767 Messages</p>
                          </div>
                          <div class="video_cam">
                            <span><i class="fas fa-video"></i></span>
                            <span><i class="fas fa-phone"></i></span>
                          </div>
                        </div>
                        <span id="action_menu_btn"><i class="fas fa-ellipsis-v"></i></span>
                        <div class="action_menu">
                          <ul>
                            <li><i class="fas fa-user-circle"></i> View profile</li>
                            <li><i class="fas fa-users"></i> Add to close friends</li>
                            <li><i class="fas fa-plus"></i> Add to group</li>
                            <li><i class="fas fa-ban"></i> Block</li>
                          </ul>
                        </div>
                      </div>
                      <div class="card-body msg_card_body">
                        <div class="d-flex justify-content-start mb-4">
                          <div class="img_cont_msg">
                            <img src="https://therichpost.com/wp-content/uploads/2020/06/avatar2.png" class="rounded-circle user_img_msg">
                          </div>
                          <div class="msg_cotainer">
                            Hi, how are you samim?
                            <span class="msg_time">8:40 AM, Today</span>
                          </div>
                        </div>
                        <div class="d-flex justify-content-end mb-4">
                          <div class="msg_cotainer_send">
                            Hi jassa i am good tnx how about you?
                            <span class="msg_time_send">8:55 AM, Today</span>
                          </div>
                          <div class="img_cont_msg">
                        <img src="https://therichpost.com/wp-content/uploads/2020/06/avatar2.png" class="rounded-circle user_img_msg">
                          </div>
                        </div>
                        <div class="d-flex justify-content-start mb-4">
                          <div class="img_cont_msg">
                            <img src="https://therichpost.com/wp-content/uploads/2020/06/avatar2.png" class="rounded-circle user_img_msg">
                          </div>
                          <div class="msg_cotainer">
                            I am good too, thank you for your chat template
                            <span class="msg_time">9:00 AM, Today</span>
                          </div>
                        </div>
                        <div class="d-flex justify-content-end mb-4">
                          <div class="msg_cotainer_send">
                            You are welcome
                            <span class="msg_time_send">9:05 AM, Today</span>
                          </div>
                          <div class="img_cont_msg">
                        <img src="https://therichpost.com/wp-content/uploads/2020/06/avatar2.png" class="rounded-circle user_img_msg">
                          </div>
                        </div>
                        <div class="d-flex justify-content-start mb-4">
                          <div class="img_cont_msg">
                            <img src="https://therichpost.com/wp-content/uploads/2020/06/avatar2.png" class="rounded-circle user_img_msg">
                          </div>
                          <div class="msg_cotainer">
                            I am looking for your next templates
                            <span class="msg_time">9:07 AM, Today</span>
                          </div>
                        </div>
                        <div class="d-flex justify-content-end mb-4">
                          <div class="msg_cotainer_send">
                            Ok, thank you have a good day
                            <span class="msg_time_send">9:10 AM, Today</span>
                          </div>
                          <div class="img_cont_msg">
                      <img src="https://therichpost.com/wp-content/uploads/2020/06/avatar2.png" class="rounded-circle user_img_msg">
                          </div>
                        </div>
                        <div class="d-flex justify-content-start mb-4">
                          <div class="img_cont_msg">
                            <img src="https://therichpost.com/wp-content/uploads/2020/06/avatar2.png" class="rounded-circle user_img_msg">
                          </div>
                          <div class="msg_cotainer">
                            Bye, see you
                            <span class="msg_time">9:12 AM, Today</span>
                          </div>
                        </div>
                      </div>
                      <div class="card-footer">
                        <div class="input-group">
                          <div class="input-group-append">
                            <span class="input-group-text attach_btn"><i class="mdi mdi-paperclip"></i></span>
                          </div>
                          <input name="" class="form-control type_msg" placeholder="Type your message...">
                          <div class="input-group-append">
                            <span class="input-group-text send_btn"><i class="mdi mdi-send"></i></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
         </div>
        <!-- </div> -->

        <div class="col"  >
            <div class="card  shadow h-100"  >
              <div class="card-header">
                Context charset
              </div>
            <div class="card-body ">
              <canvas baseChart 
                [data]="pieChartData" 
                [labels]="pieChartLabels" 
                [chartType]="pieChartType"
                [options]="pieChartOptions"

              >
              </canvas>
            </div>
              <div class="card-header">
                Context charset
              </div>
              <div class="card-body">

                <canvas baseChart 
                  [datasets]="lineChartData" 
                  [labels]="lineChartLabels" 
                  [options]="lineChartOptions"
                  [colors]="lineChartColors" 
                  [legend]="lineChartLegend" 
                  [chartType]="lineChartType" 
                  [plugins]="lineChartPlugins">
              </canvas>
              </div>
            </div>

         </div>
      </div>


      <div class="row ">
        <div class="col"  >
            <div class="card  shadow h-100"  >
                <div class="card-body">
                    <h5 >Context List</h5>
                      <div class="card-body">
                        <table class="table table-striped">
                            <thead>
                              <tr>
                                <th scope="col">Text</th>
                                <th scope="col">Titre</th>
                                <th scope="col">Entry date</th>
                                <th scope="col">Status</th>
                                <th scope="col">Type</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let collumn of contextforalluserlist">
                                <th scope="row">{{collumn.text}}</th>
                                <th scope="row">{{collumn.title}}</th>
                                <td>{{collumn.entry_date}}</td>
                                
                                <td>
                                    <span  class="badge badge-success">Valide</span>
                                    <!-- <span *ngIf="context.status == '0'" class="badge badge-danger">Deleted</span>  -->

                                </td>
                                <td>
                                  <span  class="badge badge-success"><i class="mdi mdi-earth"></i></span>
                                  <!-- <span   class="badge badge-danger"><i class="mdi mdi-earth-off"></i></span>  -->
                                </td>

                                
                                <td>
                                  <span  type="button"  (click)="ModalShowQuestionAnserwerOpen(showQA);getQR(collumn.id_context)" class="badge badge-info" ><a type="button"  ><i class="mdi mdi-telescope" ></i> </a></span> 
                                  
                                </td>
                                <!-- <td><button type="button" class="btn btn-primary" (click)="modalUpdateOpen(modalUpdateContext,context.id_context,context.text)">Update</button></td> -->
                              </tr>
                            
                            </tbody>
                          </table>
                    </div>
                  </div>
                  <p></p>
              </div>
          </div>
         
      </div>
    


    


       </main> 
</div>



<ng-template #showQA >
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">List des Questoin et Reponse</h4>
    <button type="button" class="close" aria-label="Close" (click)="closeDialog()" >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  <div class="modal-body">
      <h5 >Context List</h5>
       
          <table class="table table-striped">
              <thead>
                <tr>
                  <th scope="col"> Question </th>
                  <th scope="col"> Answer </th>
                 
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let collumn of context_QRlist">
                  <th scope="row">{{collumn.question}}</th>
                  <th scope="row">{{collumn.responce}}</th>
                  <!-- <td><button type="button" class="btn btn-primary" (click)="modalUpdateOpen(modalUpdateContext,context.id_context,context.text)">Update</button></td> -->
                </tr>
              
              </tbody>
            </table>
      
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn btn-danger"   (click)="closeDialog()" >Close</button>
  </div>
</ng-template>